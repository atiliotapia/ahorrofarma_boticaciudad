SET BELL TO 60,1SET ESCAPE ONDEFI WIND TODO FROM 0,8 TO 20,72;     CLOSE FLOAT GROW SHADOW COLOR BG/RBDEFI WIND PREPARA FROM 10,20 TO 14,60;     CLOSE FLOAT GROW SHADOW COLOR W/GDEFI WIND AVISO FROM 6,14 TO 20,66;     CLOSE FLOAT GROW SHADOW  COLOR SCHEME 12 NONEDEFI WIND AYUDAS FROM 21,10 TO 23,70;     CLOSE FLOAT GROW SHADOW  COLOR SCHEME 6CLOS ALLSELE A   USE ATENHOSP   SET ORDE TO CUENTA_CSELE B   USE ATENCION   SET ORDE TO 1SELE C   USE PACIENTE   SET ORDE TO 1SELE D   USE SERVICIO   SET ORDE TO 1SELE E   USE MEDICOS NOUPDATE   SET ORDE TO 1SELE F   USE CONVENIO NOUPDATE   SET ORDE TO 1   ACTI WIND AYUDASSET COLO TO RB/GR+ CLEASET COLO TO I@0,0 SAY '<F10> LISTADOS'@0,41 SAY '<CTA.CTE.=0> SALIR'SET COLO TO WR/B   SET MESS WIND TODOACTI WIND TODOSET COLO TO B/W*@0,17 SAY 'APERTURA DE CUENTAS CORRIENTES'SET COLO TO B+/R@1,24 SAY'HOY :> '+DTOC(DATE())SET COLO TO WR/BSTORE 0 TO REGRO,TOTAL,EDD,ES,PREC,EX,PRECATE,PRECATE1,CONVESTORE 0 TO DOCTOR,CODATE,PRECATE,CANT,REGI,HISTO,SERV,GARANT,CODATE1,CANT1TIPO=' 'CONF=' 'HORATEN=SPACE(5)CLAVPREC=SPACE(8)STORE SPACE(30) TO NOMPACNOMSER='   'NOMCMV='   'FECATEN=DATE()SELE CGO BOTTOMREGRO=CUENTA_C+1VUELVE=0ON ESCAPE STORE 0 TO REGROON KEY LABEL F10 DO MOSTRAR WITH VARREAD()DO WHILE .T.   @3,0 SAY 'CTA. CTE.:>'GET REGRO PICT '99999999' VALID EXISTE(REGRO) MESS'þ¯  Ingrese el n£mero de cuenta corriente del paciente  ®þ' ERROR 'VUELVA A INGRESAR'   @3,21 SAY 'FECHA ING. :>' GET FECATEN WHEN REGRO!=0 .AND. EX=0 MESS 'þ¯  Ingrese la fecha (DD/MM/AA) de la hospitalizaci¢n  ®þ' ERROR'VUELVA A INGRESAR'   @3,45 SAY 'HORA ING. :>' GET HORATEN PICT '99:99' WHEN REGRO!=0 .AND. EX=0 MESS'þ¯  Ingrese la hora (00-24) de ingreso del paciente  ®þ'   @4,0 SAY 'HISTORIA :>' GET HISTO PICT '99999999' RANGE 1,99999999 WHEN REGRO!=0 .AND. EX=0 MESS 'þ¯  Ingrese n£mero de historia del paciente  ®þ'       @4,23 SAY 'NOMBRE :>' GET NOMPAC WHEN REGRO!=0 .AND. EX=0 MESS'þ¯  Ingrese el nombre del paciente  ®þ'   @5,0 SAY 'SERVICIO :>' GET SERV PICT '99' RANGE 1,99 VALID SERVIS(SERV) WHEN REGRO!=0 .AND. EX=0 MESS'þ¯  C¢digo del servicio donde ingresa el paciente  ®þ' ERROR 'VUELVA A INGRESAR'   @6,0 SAY 'CONVENIO :>'GET CONVE PICT '99' VALID CONVES(CONVE) WHEN REGRO!=0 .AND. EX=0 MESS 'þ¯  Ingrese el c¢digo s¢lo para pacientes de CONVENIOS  ®þ' ERROR 'CODIGO NO REGISTRADO'   SET COLO TO GR+/R   @9,0  SAY 'CODIGO'   @10,0 SAY 'PRECIO UNIT'   @12,0  SAY 'CODIGO'   @13,0 SAY 'PRECIO UNIT'   @15,39 SAY 'TOTAL'      SET COLO TO WR/B   @9,8  GET CODATE PICT '99999' VALID RELACION(CODATE,9) WHEN REGRO!=0  ERROR 'CODIGO NO EXISTE' MESS'þ¯  Ingrese el c¢digo de la atenci¢n  ®þ'   @12,8  GET CODATE1 PICT '99999' VALID RELACION(CODATE1,12) WHEN REGRO!=0  ERROR 'CODIGO NO EXISTE' MESS'þ¯  Ingrese el c¢digo de la atenci¢n  ®þ'   @17,2 SAY 'ESTAN CORRECTO LOS DATOS (S/N) ?' GET CONF PICT '!' VALID LETRA(CONF) WHEN CODATE!=0 .AND. REGRO!=0 MESS 'þ¯  <S> si correctos   <N> no correctos  ®þ' ERROR 'LETRA INCORECTA'   READ   IF REGRO>0      IF CONF='S'          SELE A         APPE BLANK         REPLA CUENTA_C WITH REGRO         REPLA ATENCION1 WITH CODATE,PREC_ATE1 WITH PRECATE,CANTIDAD1 WITH 1         REPLA MEDICO WITH DOCTOR,FECHA WITH DATE(),DIGITADOR WITH CODUSU, HORA WITH TIME()         APPE BLANK         REPLA CUENTA_C WITH REGRO         REPLA ATENCION1 WITH CODATE1,PREC_ATE1 WITH PRECATE1,CANTIDAD1 WITH 1         REPLA MEDICO WITH DOCTOR,FECHA WITH DATE(),DIGITADOR WITH CODUSU, HORA WITH TIME()         IF EX=0            SELE C            APPE BLANK            REPLA CUENTA_C WITH REGRO,NOMBRE WITH NOMPAC,FECHA_INGR WITH FECATEN,HORA_ING WITH HORATEN, TIPO_PAC WITH "E"            REPLA HISTORIA WITH HISTO,SERVICIO WITH SERV,GARANTIA WITH GARANT,CONVENIO WITH CONVE,DIGITADOR WITH CODUSU, HORA WITH TIME()            SELE A         ENDIF         FLUSH         *******************IMPRESION*********************         ACTI WIND PREPARA         CLEA         @0,10 SAY 'I M P R E S I O N'         @1,10 SAY 'ESTA POR COMENZAR'         @2,15 SAY 'PRESIONE UNA TECLA ...' COLO WR*         WAIT''         SET COLO TO GR+/N         DEAC WIND PREPARA         DO WHILE .T.            IF PRINTSTATUS()               SET DEVI TO PRINT               @YY,0 SAY CHR(18)               @2,40 SAY ''+STR(REGRO,8)               @2,40 SAY ''+STR(REGRO,8)                              @09,20 SAY ''+NOMPAC               @09,20 SAY ''+NOMPAC               @11,20 SAY ''+DTOC(FECATEN)               @11,20 SAY ''+DTOC(FECATEN)               @11,45 SAY ''+HORATEN               @11,45 SAY ''+HORATEN               @13,10 SAY ''+NOMSER               @13,10 SAY ''+NOMSER               @13,42 SAY ''+STR(HISTO,8)               @13,42 SAY ''+STR(HISTO,8)               @16,10 SAY ''+NOMCMV               @16,10 SAY ''+NOMCMV               @18,15 SAY ''+INICNOMB               EJECT               *YY=1               SET DEVI TO SCREE               EXIT                           ENDIF         ENDDO          ***********TERMINA IMPRESION***************         ****         YY=1         T=0         ****         STORE 0 TO HIST,TOTAL,EDD,ES,HISTO,HORAFEC,SERV,GARANT,DOCTOR,CONVE         STORE SPACE(30) TO NOMPAC         STORE SPACE(5) TO HORATEN         STORE 0 TO CODATE,PRECATE,CODATE1,PRECATE1         TIPO=' '         CONF=' '         VUELVE=0         @3,0 CLEA         REGRO=REGRO+1      ENDIF     ELSE      EXIT   ENDIF   ENDDOON KEY LABEL F10CLOSE ALLDEAC WIND TODODEAC WIND AYUDASRETURNFUNCTION EXISTEPARAMETER AIF A>0   SELE C   SET ORDE TO 1   SEEK A   IF FOUND()      IF DTOC(FECHA_ALTA)='  /  /  '         ACTI WIND PREPARA         SET BELL TO 3500,2         ??CHR(7)         ??CHR(7)         ??CHR(7)         SET COLO TO W+/B          @0,12 SAY 'CUENTA   CORRIENTE'         @2,14 SAY 'FUE  INGRESADO'                  SET COLO TO WR/B         WAIT ''         DEAC WIND PREPARA         RETURN .F.        ELSE         ACTI WIND PREPARA         SET BELL TO 3500,2         ??CHR(7)         ??CHR(7)         ??CHR(7)         SET COLO TO W+/B          @0,12 SAY 'CUENTA   CORRIENTE'         @2,14 SAY 'FUE  FACTURADO'                  SET COLO TO WR/B         WAIT ''         DEAC WIND PREPARA         RETURN .F.      ENDIF            ELSE      SELE C      GO BOTT      IF A!=CUENTA_C+1         ACTI WIND PREPARA         SET COLO TO W+/B         @0,14 SAY '<< CORRESPONDE >>'         @2,12 SAY 'CTA  CTE :>'+STR((CUENTA_C+1),8)         SET COLO TO WR/B         WAIT ''         DEAC WIND PREPARA         ES=0         EX=0         RETURN .F.        ELSE         WAIT WINDOW 'N  U  E  V  A  CUENTA  CORRIENTE' NOWAIT         ES=0         EX=0         RETURN .T.      ENDIF      ENDIF     ELSE   RETURN .T.ENDIFFUNCTION FECHAPARAMETER AIF DTOC(CTOD(A))!='  /  /  '   RETURN .T.  ELSE   RETURN .F.ENDIFFUNCTION SERVISPARAMETER ASELE DSEEK AIF FOUND()   SET COLO TO I   @5,14 SAY SUBS(NOMBRE,1,24)   NOMSER=NOMBRE   SET COLO TO WR/B   RETURN .T.  ELSE   RETURN .F.ENDIF   FUNCTION CONVESPARAMETER AIF A>0   SELE F   SEEK A   IF FOUND()      SET COLO TO I      @6,14 SAY SUBS(NOMBRE,1,24)      SET COLO TO WR/B*      @7,16 SAY '<<®® PACIENTE DE CONVENIOS ¯¯>>'      SET COLO TO WR/B      CLAVPREC='PRECIO'+CLAVCONV      NOMCMV=NOMBRE      RETURN .T.     ELSE      RETURN .F.   ENDIF  ELSE   SET COLO TO I   @6,14 SAY '                        '   SET COLO TO WR/B*   @7,16 SAY '<<®® PACIENTE N O R M A L ¯¯>>'   SET COLO TO WR/B      CLAVPREC='PRECIO'   ENDIF   FUNCTION RELACIONPARAMETER A,BIF A>0   SELE B   SEEK A   IF FOUND()      SET COLO TO I      DO CASE         CASE B=9            @B,20 SAY ''+SUBS(NOMBRE,1,30)            @B+1,12 SAY ''+STR(&CLAVPREC,8,2)            SET COLO TO WR/B            PRECATE=&CLAVPREC            SET COLO TO I            @15,45 SAY''+STR((PRECATE+PRECATE1),10,2)            SET COLO TO WR/B         CASE B=12            @B,20 SAY ''+SUBS(NOMBRE,1,30)            @B+1,12 SAY ''+STR(&CLAVPREC,8,2)            SET COLO TO WR/B            PRECATE1=&CLAVPREC            SET COLO TO I            @15,45 SAY''+STR((PRECATE+PRECATE1),10,2)            SET COLO TO WR/B      ENDCASE            RETURN .T.     ELSE      RETURN .F.   ENDIF  ELSE   RETURN .F.ENDIFFUNCTION MEDICOSPARAMETER ASELE ESEEK AIF FOUND()   SET COLO TO I   @16,15 SAY ''+SUBS(NOMBRE,1,30)   SET COLO TO WR/B   RETURN .T.  ELSE   RETURN .F.ENDIFPROCEDURE MOSTRARPARAMETER ADO CASE   CASE A='REGRO'        SELE C        SET ORDE TO 3        DEFI POPU AXAX PROM FIEL STR(CUENTA_C,8)+'  '+NOMBRE+'  '+DTOC(FECHA_INGR)+'  '+STR(SERVICIO,2)+'  '+DTOC(FECHA_ALTA) TITLE 'CTA CTEÄÄÄÄÄÄÄÄN  O  M  B  R  EÄÄÄÄÄÄÄÄF_INGRESOÄSERVÄÄF_ALTA' FOOTER '<,,PgUp,PgDn> BUSCAR        <ENTER> SELECCIONAR' COLO SCHE 8 SCROL        ON SELECTION POPU AXAX DEAC POPUP AXAX        ACTI POPU AXAX   CASE A='SERV'        SELE D        DEFI POPU AXAX PROM FIEL STR(CODIGO,4)+'  '+SUBS(NOMBRE,1,44) TITLE 'LISTA DE SERVICIOS' FOOTER '<,,PgUp,PgDn> BUSCAR        <ENTER> SELECCIONAR' COLO SCHE 8 SCROL        ON SELECTION POPU AXAX DEAC POPUP AXAX        ACTI POPU AXAX        SERV=CODIGO        CASE A='CONVE'        SELE F        DEFI POPU AXAX PROM FIEL STR(CODIGO,4)+'  '+SUBS(NOMBRE,1,44) TITLE 'LISTA DE CONVENIOS'  FOOTER '<,,PgUp,PgDn> BUSCAR        <ENTER> SELECCIONAR' COLO SCHE 8 SCROL        ON SELECTION POPU AXAX DEAC POPUP AXAX        ACTI POPU AXAX        CONVE=CODIGO        CASE A='DOCTOR'        SELE E        DEFI POPU AXAX PROM FIEL STR(CODIGO,6)+'  '+SUBS(NOMBRE,1,40) TITLE 'LISTA DE MEDICOS'  FOOTER '<,,PgUp,PgDn> BUSCAR        <ENTER> SELECCIONAR' COLO SCHE 8 SCROL        ON SELECTION POPU AXAX DEAC POPUP AXAX        ACTI POPU AXAX        DOCTOR=CODIGOENDCASERETURNPROCEDURE MOSTR01PARAMETER A        SELE A        SET ORDE TO 3        DEFI POPU AXAX PROM FIEL STR(CUENTA_C,8)+'  '+NOMBRE+'  '+DTOC(FECHA_INGR)+'  '+STR(SERVICIO,2)+'  '+DTOC(FECHA_ALTA) TITLE 'CTA CTEÄÄÄÄÄÄÄÄN  O  M  B  R  EÄÄÄÄÄÄÄÄF_INGRESOÄSERVÄÄF_ALTA' FOOTER '<,,PgUp,PgDn> BUSCAR        <ENTER> SELECCIONAR' COLO SCHE 8 SCROL        ON SELECTION POPU AXAX DEAC POPUP AXAX        ACTI POPU AXAX        REGRO=CUENTA_CRETURNFUNCTION LETRAPARAMETER AVUELVE=1IF A='S' .OR. A='N'  RETURN .T. ELSE  RETURN .F.ENDIF  